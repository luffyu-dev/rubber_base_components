rubber:
  dataSource:
      userDB:
          name: userDb
          type: SINGLE
          shardKey: uid
          config:
            type: com.alibaba.druid.pool.DruidDataSource
            platform: mysql
            initialSize: 5
            minIdle: 5
            maxIdle: 5
            maxActive: 50
            maxWait: 60000
            timeBetweenEvictionRunsMillis: 60000
            minEvictableIdleTimeMillis: 300000
            validationQuery: SELECT 1 FROM DUAL
            testWhileIdle: true
            testOnBorrow: false
            testOnReturn: false
            poolPreparedStatements: true
            maxPoolPreparedStatementPerConnectionSize: 20
            # 配置监控统计拦截的filters，去掉后监控界面sql无法统计，'wall'用于防火墙
            filters: stat,wall,log4j
            # 通过connectProperties属性来打开mergeSql功能；慢SQL记录
            connectionProperties: druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000
            driver-class-name: com.mysql.cj.jdbc.Driver
            shardingType: CLUSTER
            defaultDbName: data_config
          connects:
            - url: jdbc:mysql://127.0.0.1:3306/user_db_00?useUnicode=true;characterEncoding=utf-8
              username: root
              password: root
              driverClassName: com.alibaba.druid.pool.DruidDataSource
            - url: jdbc:mysql://127.0.0.1:3306/user_db_01?useUnicode=true;characterEncoding=utf-8
              username: root
              password: root
              driverClassName: com.alibaba.druid.pool.DruidDataSource
            - url: jdbc:mysql://127.0.0.1:3306/data_config?useUnicode=true;characterEncoding=utf-8
              username: root
              password: root
              driverClassName: com.alibaba.druid.pool.DruidDataSource
